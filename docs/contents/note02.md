# 第2部分 模块化篇

## 1 关注点分离

- 测试代码与产品代码：
  1. 产品代码：为了解决需求（`Money`）问题而写的代码。
  2. 测试代码：为了验证该问题已经正确解决而写的代码，包括所有的测试以及用来支撑这些测试的代码。
- 单向依赖：
  1. 编写程序的时候必须特别小心，不要在产品代码里面用到测试代码。
  2. 阅读代码的时候不仅要注意各种正当的用法，而且要留心观察其中有没有产品代码依赖测试代码的现象。
- 依赖注入：要求不同的代码单元（类与方法）必须各自独立。
- 模块化：
  1. 测试代码与产品代码应该分别放在不同的源文件里面。
  2. 代码应该采用名称空间（namespace）来区分。
  3. 应该明确采用某条代码指令表示一个模块需要依赖另一个模块。
- 去除冗余的判断原则：
  1. 如果删除其中要给测试，代码覆盖率会不会有所变化？
  2. 其中某个测试是否用来验证一种相当重要的边界状况？
  3. 这些测试是否各自拥有独特的价值，能够充当“活文档”？